{"version":3,"sources":["webpack:///./src/js/browser.js","webpack:///./src/js/switch-lang.js","webpack:///./src/js/nav.js"],"names":["IOS_REG","IPHONE","IPAD","ANDROID_REG","ANDROID_MOBILE","OPENCOURSE_APP_REG","userAgent","navigator","isIOS","test","isAndroid","isSafari","isAndroidMobile","isAndroidPad","isOpenApp","isMobile","isIPhone","isIPad","isQQBrowser","indexOf","isWechat","isWeibo","getIOSVersion","matched","match","isYixin","isQQ","getYiXinVersion","isYiXin","yixinVersion","IOS_DOWNLOAD","ANDROID_DOWNLOAD","IOS_DOWNLOAD_CHINA","ANDROID_DOWNLOAD_CHINA","$downloadIos","$","$downloadAndroids","setZh","attr","setEn","lang","click","e","preventDefault","stopPropagation","removeClass","$this","this","addClass","window","localStorage","setItem","document","trigger","browser","$navigation","css","right","$ul","is","show","hide","data","animate","scrollTop"],"mappings":"yKAUMA,EAAU,MACVC,EAAS,UACTC,EAAO,QACPC,EAAc,WACdC,EAAiB,oBACjBC,EAAqB,sBAEvBC,EAAYC,UAAUD,UAEtBE,EAAQ,WACR,OAAOR,EAAQS,KAAKH,IAEpBI,EAAY,WACZ,OAAOP,EAAYM,KAAKH,IAExBK,EAAW,WACX,MAAO,UAAUF,KAAKH,IAEtBM,EAAkB,WAClB,OAAOR,EAAeK,KAAKH,IAE3BO,EAAe,WACf,OAAOH,MAAgBE,KAEvBE,EAAY,WACZ,OAAOT,EAAmBI,KAAKH,IAE/BS,EAAW,WACX,OAAOL,KAAeF,KAEtBQ,EAAW,WACX,OAAOf,EAAOQ,KAAKH,IAEnBW,EAAS,WACT,OAAOf,EAAKO,KAAKH,IAEjBY,EAAc,WACd,OAAOZ,EAAUa,QAAQ,eAAiB,GAE1CC,EAAW,WACX,MAAO,kBAAkBX,KAAKH,IAE9Be,EAAU,WACV,OAAOf,EAAUa,QAAQ,UAAY,GAWrCG,EAAgB,WAChB,GAAId,IAAS,CACT,IAAIe,EAAUjB,EAAUkB,MAAM,mBAC9B,GAAID,GAAWA,EAAQ,GACnB,OAAOA,EAAQ,GAGvB,OAAQ,GAERE,EAAU,WACV,MAAO,SAAShB,KAAKH,IAErBoB,EAAO,WACP,MAAO,QAAQjB,KAAKH,IAEpBqB,EAAkB,WAClB,IAAIC,EAAUrB,UAAUD,UAAUkB,MAAM,mBACpCK,EAAgBD,GAAWA,EAAQ,IAAO,EAC9C,OAAOC,GAGI,QACXrB,QACAM,YACAF,kBACAC,eACAG,WACAC,SACAF,WACAL,YACAW,UACAV,WACAc,UACAC,OACAJ,gBACAK,kBACAT,cACAE,a,6DCpGJ,qCA8HA,GAnFA,WACI,IAAIU,EAAe,qDACfC,EAAmB,2EAGnBC,EAAqBF,EAAe,aACpCG,EAAyB,2EAEzBC,EAAeC,IAAE,sBACjBC,EAAoBD,IAAE,0BAE1B,SAASE,IACLH,EAAaI,KAAK,OAAQN,GAC1BI,EAAkBE,KAAK,OAAQL,GAGnC,SAASM,IACLL,EAAaI,KAAK,OAAQR,GAC1BM,EAAkBE,KAAK,OAAQP,GAGtB,YAATS,KACAH,IAEAE,IAxBR,GAyDAJ,IAAE,gBAAgBM,OAAM,SAAUC,GAC9BA,EAAEC,iBACFD,EAAEE,kBACFT,IAAE,gBAAgBU,YAAY,UAC9B,IAAIC,EAAQX,IAAEY,MACdD,EAAME,SAAS,UACf,IAAIR,EAAOM,EAAMR,KAAK,aAWtB,GAVa,YAATE,GACAL,IAAE,QAAQU,YAAY,WAAWG,SAAS,WAC1CC,OAAOC,aAAaC,QAAQ,OAAQ,aAEpChB,IAAE,QAAQU,YAAY,WAAWG,SAAS,WAC1CC,OAAOC,aAAaC,QAAQ,OAAQ,YAGxChB,IAAEiB,UAAUC,QAAQ,gBAEO,IAAvBC,OAAQvC,WAAqB,CAC7B,IAAIwC,EAAcpB,IAAE,2BACpBoB,EAAYC,IAAI,CACZC,MAAO,eAMQ,IAAvBH,OAAQvC,WAAqB,CAC7B,IAAI2C,EAAMvB,IAAE,kBACZA,IAAE,YAAYM,OAAM,YACU,IAAtBiB,EAAIC,GAAG,WACPD,EAAIE,OAEJF,EAAIG,Y,kCCrIhB,yBAIA1B,IAAE,yBAAyBM,OAAM,WAC7B,IAAIc,EAAcpB,IAAE,4BACa,IAA7BoB,EAAYO,KAAK,SACjBP,EAAYC,IAAI,CACZC,MAAO,UAEXF,EAAYO,KAAK,QAAQ,KAEzBP,EAAYC,IAAI,CACZC,MAAO,IAEXF,EAAYO,KAAK,QAAQ,OAIjC3B,IAAE,SAASM,OAAM,WAEb,OADAN,IAAE,cAAc4B,QAAQ,CAACC,UAAW,GAAI,SACjC","file":"js/chunk-common.d01c5dc6.js","sourcesContent":["/**\n * @file\n * @author jinguangguo\n * @date 08/04/2020 4:22 PM\n */\n\n/**\n * 环境检测\n *\n */\nconst IOS_REG = /os/i;\nconst IPHONE = /iphone/i;\nconst IPAD = /ipad/i;\nconst ANDROID_REG = /android/i;\nconst ANDROID_MOBILE = /android.*?mobile/i;\nconst OPENCOURSE_APP_REG = /(OpenCourse|vopen)/i;\n\nlet userAgent = navigator.userAgent;\n\nlet isIOS = function () {\n    return IOS_REG.test(userAgent);\n};\nlet isAndroid = function () {\n    return ANDROID_REG.test(userAgent);\n};\nlet isSafari = function () {\n    return /Safari/i.test(userAgent);\n};\nlet isAndroidMobile = function () {\n    return ANDROID_MOBILE.test(userAgent);\n};\nlet isAndroidPad = function () {\n    return isAndroid() && !isAndroidMobile();\n};\nlet isOpenApp = function () {\n    return OPENCOURSE_APP_REG.test(userAgent);\n};\nlet isMobile = function () {\n    return isAndroid() || isIOS();\n};\nlet isIPhone = function () {\n    return IPHONE.test(userAgent);\n};\nlet isIPad = function () {\n    return IPAD.test(userAgent);\n};\nlet isQQBrowser = function () {\n    return userAgent.indexOf('mqqbrowser') > -1;\n};\nlet isWechat = function () {\n    return /MicroMessenger/i.test(userAgent);\n};\nlet isWeibo = function () {\n    return userAgent.indexOf('weibo') > -1;\n};\nlet getAndroidVersion = function () {\n    if (isAndroid()) {\n        let matched = userAgent.match(/Android (\\d+).(\\d+)/i);\n        if (matched && matched[1]) {\n            return matched[1];\n        }\n    }\n    return -1;\n};\nlet getIOSVersion = function () {\n    if (isIOS()) {\n        let matched = userAgent.match(/os (\\d+)_(\\d)+/i);\n        if (matched && matched[1]) {\n            return matched[1];\n        }\n    }\n    return -1;\n};\nlet isYixin = function () {\n    return /YiXin/i.test(userAgent);\n};\nlet isQQ = function () {\n    return /QQ\\//i.test(userAgent);\n};\nlet getYiXinVersion = function () {\n    let isYiXin = navigator.userAgent.match(/YiXin\\/(\\d{4})/i);\n    let yixinVersion = (isYiXin && isYiXin[1]) || 0;\n    return yixinVersion;\n};\n\nexport default {\n    isIOS,\n    isOpenApp,\n    isAndroidMobile,\n    isAndroidPad,\n    isIPhone,\n    isIPad,\n    isMobile,\n    isAndroid,\n    isWeibo,\n    isSafari,\n    isYixin,\n    isQQ,\n    getIOSVersion,\n    getYiXinVersion,\n    isQQBrowser,\n    isWechat\n};\n","\nimport browser from './browser';\nimport $ from \"jquery\";\n\n// $(\".english.home\").click(function() {\n//     location.replace(\"./index.html\");\n// });\n// $(\".chinese.home\").click(function() {\n//     location.replace(\"./index-zh.html\");\n// });\n//\n// $(\".english.about-us\").click(function() {\n//     location.replace(\"./about_en.html\");\n// });\n// $(\".chinese.about-us\").click(function() {\n//     location.replace(\"./about_ch.html\");\n// });\n//\n// $(\".english.ecosystem\").click(function() {\n//     location.replace(\"./eco_en.html\");\n// });\n// $(\".chinese.ecosystem\").click(function() {\n//     location.replace(\"./eco_ch.html\");\n// });\n//\n// $(\".english.in-progress\").click(function() {\n//     location.replace(\"./inprogress_en.html\");\n// });\n// $(\".chinese.in-progress\").click(function() {\n//     location.replace(\"./inprogress_ch.html\");\n// });\n\n// 语言切换\n// var lang = window.localStorage.getItem('lang') || 'lang-en';\n// if (lang === 'lang-zh') {\n//     $('body').addClass('lang-zh');\n//     $('a[data-lang=\"zh\"]').addClass('active');\n//\n// } else {\n//     $('body').addClass('lang-en');\n//     $('a[data-lang=\"en\"]').addClass('active');\n// }\n\n// 下载\n(function () {\n    var IOS_DOWNLOAD = 'https://apps.apple.com/us/app/tweebaa/id1467778439';\n    var ANDROID_DOWNLOAD = 'https://tweebaafiles.oss-cn-beijing.aliyuncs.com/archive/app/tweebaa.apk';\n    // var ANDROID_DOWNLOAD = 'https://play.google.com/store/apps/details?id=cn.charity.tweebaa';\n\n    var IOS_DOWNLOAD_CHINA = IOS_DOWNLOAD + '?l=zh&ls=1';\n    var ANDROID_DOWNLOAD_CHINA = 'https://tweebaafiles.oss-cn-beijing.aliyuncs.com/archive/app/tweebaa.apk';\n\n    var $downloadIos = $('.download-link-ios');\n    var $downloadAndroids = $('.download-link-android');\n\n    function setZh() {\n        $downloadIos.attr('href', IOS_DOWNLOAD_CHINA);\n        $downloadAndroids.attr('href', ANDROID_DOWNLOAD_CHINA);\n    }\n\n    function setEn() {\n        $downloadIos.attr('href', IOS_DOWNLOAD);\n        $downloadAndroids.attr('href', ANDROID_DOWNLOAD);\n    }\n\n    if (lang === 'lang-zh') {\n        setZh();\n    } else {\n        setEn();\n    }\n\n    // const COUNTRY_KEY = 'COUNTRY_CODE';\n    // var currentCountryCode = window.localStorage.getItem(COUNTRY_KEY);\n    // if (currentCountryCode === null) {\n    //     $.ajax({\n    //         type: \"GET\",\n    //         url: \"https://api.ipdata.co/?api-key=78e1295abccb1616027b85a6bcb612d286aef4cdb397a2c091fd861a\",\n    //         data: {},\n    //         dataType: \"json\",\n    //         success: function(response){\n    //             var countryCode = response.country_code.toUpperCase();\n    //             window.localStorage.setItem(COUNTRY_KEY, countryCode);\n    //             if (countryCode === 'CN') {\n    //                 setZh();\n    //             } else {\n    //                 setEn();\n    //             }\n    //         }\n    //     });\n    // } else {\n    //     if (currentCountryCode === 'CN') {\n    //         setZh();\n    //     } else {\n    //         setEn();\n    //     }\n    // }\n\n})();\n\n\n\n$('.lang-select').click(function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    $('.lang-select').removeClass('active');\n    var $this = $(this);\n    $this.addClass('active');\n    var lang = $this.attr('data-lang');\n    if (lang === 'lang-zh') {\n        $('body').removeClass('lang-en').addClass('lang-zh');\n        window.localStorage.setItem('lang', 'lang-zh');\n    } else {\n        $('body').removeClass('lang-zh').addClass('lang-en');\n        window.localStorage.setItem('lang', 'lang-en');\n    }\n\n    $(document).trigger(\"switch-lang\");\n\n    if (browser.isMobile() === true) {\n        let $navigation = $(\".nav-mobile .navigation\");\n        $navigation.css({\n            right: '-100%'\n        });\n    }\n});\n\n// 电报\nif (browser.isMobile() === true) {\n    var $ul = $('.telegram-list');\n    $('#dianbao').click(function () {\n        if ($ul.is(':hidden') === true) {\n            $ul.show();\n        } else {\n            $ul.hide();\n        }\n    });\n}\n\n","import $ from \"jquery\";\n\n/////// for switching between pages ///////\n\n$(\".nav-mobile .menu-box\").click(function () {\n    let $navigation = $(\".nav-mobile .navigation\");\n    if ($navigation.data('show') === true) {\n        $navigation.css({\n            right: '-100%'\n        });\n        $navigation.data('show', false);\n    } else {\n        $navigation.css({\n            right: 0\n        });\n        $navigation.data('show', true);\n    }\n});\n\n$('.logo').click(function () {\n    $(\"html, body\").animate({scrollTop: 0}, \"slow\");\n    return false;\n});\n/////// for switching between pages ///////\n"],"sourceRoot":""}