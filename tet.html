<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body ms-controller="test">
    <!--<input ms-duplex-number="@name">-->
    <!--<p>Hello,{{@name}}!</p>-->
    <!--<ul>-->
        <!--<li ms-for="($index,el) in @array">{{$index}}&#45;&#45;{{el}}</li>-->
    <!--</ul>-->
    <script src="//cdn.bootcss.com/avalon.js/2.0s/avalon.js"></script>
    <script>
//        var vm = avalon.define({
//            $id: "test",
//            name: "司徒正美",
//            array: [11,22,33]
//        });
//        setTimeout(function(){
//            avalon.router.redirect('type');
//        }, 2000)

/**
 * 把小数转成整数，避免小数计算的精度问题
 *
 * @param {string|number} float 浮点数
 * @param {number=} length 可选，右移的位数
 * @return {number}
 */
function floatToInt (float, length) {

    var parts = ('' + float).split('.');
    var result;

    if (length >= 0) {}
    else {
        length = 0;
    }

    // 说明是整数
    if (parts.length === 1) {
        result = float + new Array(length + 1).join('0');
    }
    else {
        length = Math.max(0, length - parts[1].length);
        result = parts.join('') + new Array(length + 1).join('0');
    }

    return + result;

}

//console.log(parse(1.234, 2));
//console.log(parse(1234, 5));

    </script>
</body>
</html>